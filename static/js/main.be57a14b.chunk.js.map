{"version":3,"sources":["images/room.png","App.js","reportWebVitals.js","index.js"],"names":["App","clickHandler","item","e","playerHasFound","setState","state","inventory","dotX","evt","pageX","dotY","pageY","lastClicked","hoverHandler","opacity","hoverEndHandler","dragStartHandler","lastInvCoords","x","target","attrs","y","dragEndHandler","refs","position","parent","draw","renderInventorySlot","i","width","height","fill","shadowBlur","shadowOpacity","renderInventoryItem","ref","image","draggable","onMouseDown","onDragEnd","bind","maxInventorySlots","usedItems","pillow","balloon","window","Image","src","onload","this","includes","className","points","closed","onClick","onMouseover","onMouseleave","Array","keys","map","style","left","top","room","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be57a14b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/room.09233ca0.png\";","import room from './images/room.png';\nimport './App.css';\nimport { Component } from 'react';\nimport { Stage, Layer, Line, Rect, Image } from 'react-konva';\n\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      dotX: -10,\n      dotY: -10,\n      maxInventorySlots: 10,\n      inventory: [],\n      usedItems: [],\n      lastClicked: 'nothing yet',\n      lastInvCoords: {\n        x: 0,\n        y: 0\n      },\n      pillow: {\n        opacity: 0\n      },\n      balloon: {\n        opacity: 0\n      }\n    };\n  }\n\n  componentDidMount() {\n    const image = new window.Image();\n    image.src = \"images/key.png\";\n    image.onload = () => {\n      this.setState({\n        ...this.state,\n        image: image\n      });\n    }\n  }\n\n  playerHasFound(item) {\n    return this.state.inventory.includes(item) ||\n           this.state.usedItems.includes(item);\n  }\n\n  clickHandler = (item, e) => {\n    if(item === 'pillow' && !this.playerHasFound('Small key')) {\n      this.setState((state) => {\n        return {\n          ...state,\n          inventory: [\n            ...state.inventory,\n            'Small key'\n          ]\n        };\n      })\n    }\n\n    this.setState((state) => {\n      return {\n        ...state,\n        dotX: e.evt.pageX,\n        dotY: e.evt.pageY,\n        lastClicked: item\n      }\n    })\n  }\n\n  hoverHandler = (item) => {\n    this.setState((state) => {\n      return {\n        ...state,\n        [item]: {\n          opacity: 0.2\n        }\n      }\n    })\n  }\n\n  hoverEndHandler = (item,e) => {\n    this.setState((state) => {\n      return {\n        ...state,\n        [item]: {\n          opacity: 0\n        }\n      }\n    })\n  }\n\n  dragStartHandler = (e) => {\n    this.setState({\n      ...this.state,\n      lastInvCoords: {\n        x: e.target.attrs.x,\n        y: e.target.attrs.y\n      }\n    })\n  }\n\n  dragEndHandler = (item, e) => {\n    this.refs[item].position(this.state.lastInvCoords);\n    this.refs[item].parent.draw();\n  }\n\n  renderInventorySlot = (item, i) => {\n    return (\n      <Rect\n        key={i}\n        x={5 + 50*i}\n        y={515}\n        width={40}\n        height={40}\n        fill=\"grey\"\n        shadowBlur={10}\n        shadowOpacity={0.4}\n      />\n    )\n  }\n\n  renderInventoryItem = (item, i) => {\n    return (\n      <Image\n        key={i}\n        ref={item}\n        x={5 + 50*i}\n        y={515}\n        width={40}\n        height={40}\n        image={this.state.image}\n        draggable\n        onMouseDown={this.dragStartHandler}\n        onDragEnd={this.dragEndHandler.bind(this, item)}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n      <Stage className='canvas' width='500' height='600'>\n        <Layer className='imgLayer'>\n          <Line\n            x={-5}\n            y={-8}\n            opacity={this.state.pillow.opacity}\n            points={[133,258,141,265,149,271,158,277,175,275,188,271,203,269,199,279,202,292,196,303,188,312,188,324,185,329,177,332,165,334,154,336,141,341,130,340,124,328,121,317,122,307,131,303,143,299,151,295,143,290,133,285,129,271,129,260]}\n            fill='orange'\n            closed\n            onClick={this.clickHandler.bind(this, 'pillow')}\n            onMouseover={this.hoverHandler.bind(this, 'pillow')}\n            onMouseleave={this.hoverEndHandler.bind(this, 'pillow')}\n          />\n          <Line\n            x={-10}\n            y={-5}\n            opacity={this.state.balloon.opacity}\n            points={[464,283,461,207,460,197,442,192,430,173,418,152,414,134,413,107,428,85,449,77,469,80,483,101,492,126,491,145,489,166,481,183,466,196,469,282]}\n            fill='orange'\n            closed\n            onClick={this.clickHandler.bind(this, 'balloon')}\n            onMouseover={this.hoverHandler.bind(this, 'balloon')}\n            onMouseleave={this.hoverEndHandler.bind(this, 'balloon')}\n          />\n        </Layer>\n        <Layer className='inventoryLayer'>\n        <Rect\n          x={0}\n          y={510}\n          width={500}\n          height={50}\n          fill=\"dimgray\"\n          shadowBlur={10}\n        />\n        {[...Array(this.state.maxInventorySlots).keys()].map(this.renderInventorySlot)}\n        </Layer>\n\n        <Layer className='inventoryLayer'>\n          {this.state.inventory?.map(this.renderInventoryItem)}\n        </Layer>\n      </Stage>\n      <div  >\n        <div className='dot' style={{left: this.state.dotX-5, top: this.state.dotY-5}}/>\n        <img src={room} className=\"room-img\" />\n      </div>\n      <header className=\"App-header\">\n        You last clicked on: <b>{this.state.lastClicked}</b>\n      </header>\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}